{
  "$schema": "../test-fixtures.schema.json",
  "version": "2.0.0",
  "description": "Test fixture for weather-forecast API - provides EXPLICIT decisions instead of pattern matching",
  "endpoint": "weather-forecast",

  "test_mode_behavior": "In test-mode, the interview phase is SKIPPED entirely. Instead, these explicit decisions are injected directly into state as if the user had answered all questions.",

  "explicit_decisions": {
    "provider": {
      "value": "OpenWeatherMap",
      "rationale": "Free tier available, well-documented API"
    },
    "authentication": {
      "value": "API key in query parameter (appid=KEY)",
      "rationale": "OpenWeatherMap standard auth method"
    },
    "rate_limiting": {
      "value": "60 requests/minute",
      "rationale": "Free tier limit"
    },
    "caching": {
      "value": "5 minute TTL",
      "rationale": "Weather doesn't change that fast"
    },
    "error_handling": {
      "value": "Return structured error objects",
      "rationale": "Client can handle gracefully"
    },
    "units": {
      "value": "metric",
      "rationale": "Celsius and m/s"
    },
    "location_format": {
      "value": "city name OR lat,lon coordinates",
      "rationale": "Flexible input"
    },
    "forecast_range": {
      "value": "5-day with 3-hour intervals",
      "rationale": "OpenWeatherMap free tier limit"
    }
  },

  "skip_phases": {
    "interview": true,
    "reason": "Test mode injects explicit_decisions directly, no user interaction needed"
  },

  "mock_research": {
    "use_cached": true,
    "cache_path": ".claude/research/openweathermap/",
    "fallback_to_live": false
  },

  "expected_outputs": {
    "files": [
      "src/app/api/weather-forecast/route.ts",
      "src/app/api/weather-forecast/route.test.ts",
      "src/schemas/weather-forecast.ts"
    ],
    "test_count_min": 5
  }
}
